var expect = require('unexpected');
var canvas64 = require('../index')

var originalBase64PNG = 'data:image/png;base64,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'

describe('index', function () {

  describe('toImageDataFromBase64', function () {

		var imageData = canvas64.toImageDataFromBase64(originalBase64PNG)
		console.log(typeof imageData)

    it('is an object', function () {
      expect(imageData, 'to be a', 'object');
    });

  });

  describe('toBase64FromImageData', function () {

		var imageData = canvas64.toImageDataFromBase64(originalBase64PNG)
		var base64Encoded = canvas64.toBase64FromImageData(imageData);

		console.log(typeof base64Encoded)
    it('is the same base64 string', function () {
      expect(base64Encoded, 'to be a', 'string');
    });

  });

  describe('toImageDataFromBase64 + toBase64FromImageData', function () {

		var imageData = canvas64.toImageDataFromBase64(originalBase64PNG)
		var base64Encoded = canvas64.toBase64FromImageData(imageData);

		console.log(typeof base64Encoded)
    it('is the same base64 string', function () {
      expect(base64Encoded, 'to be', originalBase64PNG);
    });

  });

});







